!function(t){window.img_convert_cache={},jQuery.fn.imagesLoaded=function(t,i){var n=this.filter("img"),e=n.length-1;n.each((function(){this.complete?i?!e--&&t.call(n,{}):t.call(this,{}):this.onload=function(r){i?!e--&&t.call(n,r):t.call(this,r)},this.src=this.src}))},jQuery.fn.wm_img_convert=function(){return this.each((function(){var i=e()>0&&e()<12;function n(i,n){var e,a;(n.css({"max-width":"100%","max-height":"100%"}),n.parent().hasClass("img-cover"))&&(i.width&&i.height?(e=i.width,a=i.height):"svg"==n.attr("src").slice(-3)?t.get(n.attr("src"),(function(t){var c=t.documentElement.getAttribute("width"),o=t.documentElement.getAttribute("height"),h=t.documentElement.getAttribute("viewBox");if(c&&o)e=c,a=o;else if(h){var s=h.split(" ");e=parseInt(s[2]),a=parseInt(s[3])}i.width=e,i.height=a,r(n,e,a)}),"xml"):(i.width=e=n[0].naturalWidth,i.height=a=n[0].naturalHeight),r(n,e,a))}function e(){var t=window.navigator.userAgent,i=t.indexOf("MSIE");return i>0?parseInt(t.substring(i+5,t.indexOf(".",i))):navigator.userAgent.match(/Trident\/7\./)?11:0}function r(t,n,e){var r=t.parent(),a=parseInt(r.width()),c=parseInt(r.height()),o=c/e*n;if(n&&e&&(img_prop=n/e,a/c>img_prop?t.css({"max-width":"100%",width:n>a?a:n,"min-width":"0","max-height":"none",height:"auto"}):t.css({"max-width":"none",width:"auto","min-width":o>n?n:o,"max-height":"100%",height:e>c?c:e}),i))if("column"==r.css("flex-direction")){if(e>c){var h=(e-c)/2;t.css({"margin-top":-1*h,"margin-bottom":-1*h})}}else if(n>a){h=(n-a)/2;t.css({"margin-left":-1*h,"margin-right":-1*h})}}t(this).find(".img-convert").each((function(){var i=t(this).find("img");if(i.length){var e=i.attr("src");window.img_convert_cache.hasOwnProperty(e)?n(window.img_convert_cache[e],i):i.imagesLoaded((function(){window.img_convert_cache[e]={},n(window.img_convert_cache[e],i)}))}}))}))};var i=function(t,i){var n;return function(){var e=[].slice.call(arguments,0);window.clearTimeout(n),n=window.setTimeout((function(){window.requestAnimationFrame&&window.requestAnimationFrame((function(){t.apply(null,e)}))||t.apply(null,e)}),i)}};t((function(){t(document).wm_img_convert(),t(window).on("resize",i((function(){t(document).wm_img_convert()}),100))}))}(jQuery);