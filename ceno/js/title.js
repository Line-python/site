!function(t){t((function(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/i.test(navigator.userAgent);t("article.content").find("table").wrap('<div class="for-mobile-view"></div>'),e&&t("html").addClass("mobile");var i=[];function n(t){i[t].video[0].videoWidth/i[t].video[0].videoHeight>i[t].el.width()/i[t].el.height()?i[t].wrapper.addClass("vertical"):i[t].wrapper.removeClass("vertical")}t("[data-video-src]").each((function(e,s){var o={src:t(s).data("video-src"),autoplay:t(s).data("video-autoplay"),loop:t(s).data("video-loop"),poster:t(s).data("video-poster")};if(o.src&&!t(s).find(">.wm-video").size()){o.src.split(";");var a=document.createElement("div");a.className="wm-video";var r=document.createElement("video");if(o.autoplay&&(r.autoplay=o.autoplay),o.loop&&(r.loop=o.loop),o.poster&&(r.poster=o.poster),i.push({el:t(s),wrapper:t(a),video:t(r)}),function(t,e){t.addEventListener("loadedmetadata",(function(){n(e)}),!1)}(r,e),r.src=o.src,t(a).append(r),t(s).prepend(a),o.autoplay)try{r.play()}catch(s){}}})),t(window).resize((function(){for(var t=0;t<i.length;t++)n(t)}))}))}(jQuery),$((function(){$(document).click((function(t){$(".authorization-init").each((function(){$(t.target).closest($(this)).length||($(this).find(".tgl-but").prop("checked",!1),$(this).find(".header").removeClass("active"))}))})),$(".authorization-init").each((function(){var t=$(this);t.find(".header").click((function(){t.find(".tgl-but").prop("checked")?$(this).removeClass("active"):$(this).addClass("active")}))}))})),$((function(){function t(t){if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)>960)t.find(".block-body-drop").css({"margin-left":"0px"});else{var e=-1*t.offset().left;t.find(".block-body-drop").css({"margin-left":e+"px"})}}$(document).click((function(t){$(".contacts-block").each((function(){$(t.target).closest($(this)).length||($(this).find(".tgl-but").prop("checked",!1),$(this).find(".icon").removeClass("active"))}))})),$(".contacts-block").each((function(){for(var e=$(this),i=e.attr("class").split(" ")[0],n="/"==document.location.pathname?".title-page .side-panel ."+i+" .block-body-drop":".side-panel ."+i+" .block-body-drop",s=document.styleSheets,o=0;o<s.length;o++)if(s[o].href&&-1!==s[o].href.indexOf("styles.css")){for(var a=0;a<s[o].cssRules.length;a++)if(s[o].cssRules[a].selectorText==n&&"100vw"==s[o].cssRules[a].style.width){e.data("fullwidth",1),t(e);break}break}})),$(window).resize((function(){$(".contacts-block").each((function(){var e=$(this);1==e.data("fullwidth")&&t(e)}))})),$(".contacts-block").each((function(){var e=$(this);e.find(".icon").click((function(){1==e.data("fullwidth")&&t(e),e.find(".tgl-but").prop("checked")?$(this).removeClass("active"):$(this).addClass("active")}))}))})),function(t,e,i,n){var s="wmS3Menu",o={screenButton:!1,responsiveTl:!1,responsiveTp:!1,responsiveMl:!1,moreText:"...",childIcons:!1,childIconsClass:"has-child-icon"},a="ontouchstart"in e||e.DocumentTouch&&i instanceof DocumentTouch,r=t(e),l=r.width(),c=t(i),d={_events:{hover:function(t,e,i){var n,s=e.find("> a"),o=s.find("."+i.childIconsClass),a=o.length,r=e.find("> ul");function l(){clearTimeout(n),e.siblings().find("> ul").css("display",""),d._menuPosition(r),s.addClass("hover"),a&&o.addClass("hover")}function c(){n=setTimeout((function(){s.removeClass("hover"),r.css("display",""),a&&o.removeClass("hover")}),500)}e.off({"mouseenter.wmS3Menu":l,"mouseleave.wmS3Menu":c}),e.on({"mouseenter.wmS3Menu":l,"mouseleave.wmS3Menu":c})},click:function(t,e,n){var s=e.find("> a"),o=s.find("."+n.childIconsClass),r=o.length,l=e.find("> ul");s.off("click.wmS3Menu"),s.on("click.wmS3Menu",(function(){return l.is(":visible")?(a&&(i.location=s.attr("href")),s.removeClass("hover"),l.css("display",""),e.removeClass("submenu-opened"),r&&o.removeClass("hover")):(e.siblings().find("> ul").css("display",""),e.siblings().find("> a").removeClass("hover"),e.siblings().find("> a ."+n.childIconsClass).removeClass("hover"),d._menuPosition(l),s.addClass("hover"),e.addClass("submenu-opened"),r&&o.addClass("hover")),!1}))},click_tree:function(e,i,n){var s=i.find("> a"),o=s.find("."+n.childIconsClass),a=i.find("> ul");s.off("click.wmS3Menu"),s.on("click.wmS3Menu",(function(e){if(t(e.target).closest(o).length)return a.is(":visible")?(s.removeClass("hover"),a.css("display",""),i.removeClass("submenu-opened"),o.removeClass("hover")):(d._menuPosition(a),s.addClass("hover"),i.addClass("submenu-opened"),o.addClass("hover")),!1}))}},_menuPosition:function(t){if(l=r.width(),t.css("display","block"),!1===t.parent().hasClass("first-level")){t.css({visibility:"hidden",opacity:0});var e=t[0].getBoundingClientRect(),i=parseInt(t.css("margin-right")),n=t.parent().width();i>n&&t.css("margin-right",n),e.right>=l&&t.css({left:"-100%","margin-left":0}),t.css({visibility:"",opacity:""})}}};function h(e,i){this.element=e,this.options=t.extend({},o,i,t(this.element).data()),this._defaults=o,this._name=s,this.init()}h.prototype={init:function(){var i=this.options,n=!1;e.matchMedia("all and (max-width: 640px)").matches?n=i.responsiveMl:e.matchMedia("all and (max-width: 768px)").matches||(n=e.matchMedia("all and (max-width: 960px)").matches?i.responsiveTl:i.screenButton);var s=t(this.element),o=s.attr("class"),r=t(this.element.querySelector("ul")),l=o.match(/widget-\d+/)[0];if(e.side_panel_controller&&side_panel_controller.inPanel(l)&&(n=!1),r.children().addClass("first-level"),o.match(/horizontal/i)){var h,u=r.width(),p=0,f=[],m=r.find(".more-button");m.length||(m=t('<li class="more-button"><a href="#"><span>'+i.moreText+"</span></a></li>"),r.append(m));var v=m.find("> ul");v.length||(v=t("<ul></ul>"),m.append(v)),m.removeClass("removed").attr("data-trigger","hover"),r.children().css("display","");var g=r.children(":visible").not(".more-button");if(v.html(""),"more"===n||"button"===n)if(m.removeClass("disabled"),u-=m.outerWidth(),g.each((function(){var e=t(this);(p+=e.outerWidth(!0))>u&&(f.push(e.clone()),e.hide())})),h=f.length){for(var w=0;w<h;w++)v.append(f[w]);m.removeClass("disabled")}else m.addClass("disabled");else m.addClass("disabled")}var y=r.find("ul"),b=y.parent(),_=b.find("> a"),C=_.find("."+i.childIconsClass),k=C.length,S="popup";if(o.match(/dropdown/i)?S="dropdown":o.match(/treemenu/i)&&(S="treemenu"),"popup"===S&&y.hide(),k&&C.remove(),i.childIcons){var T='<em class="'+i.childIconsClass+'"></em>';"treemenu"===S&&(T='<em class="'+i.childIconsClass+'"><b style="position: absolute; top: 50%; left: 50%; width: 30px; height: 30px; margin: -15px 0 0 -15px;"></b></em>');var x=t(T);_.append(x.clone()),C=_.find("."+i.childIconsClass),k=C.length}if(_.removeClass("hover").off("click.wmS3Menu"),y.css("display",""),k&&C.removeClass("hover"),b.each((function(){var e=t(this),n=e.data("trigger")||"hover";"dropdown"===S||a?n="click":"treemenu"===S&&(n="click_tree"),d._events[n](s,e,i)})),a){function M(e){0===t(e.target).closest(s).length&&(_.removeClass("hover"),y.css("display",""),b.removeClass("submenu-opened"),k&&C.removeClass("hover"))}c.off("touchstart.wmS3Menu",M),c.on("touchstart.wmS3Menu",M)}},update:function(){this.init()}},t.fn.wmS3Menu||(t.fn.wmS3Menu=function(e){var i,s=arguments;return e===n||"object"==typeof e?this.each((function(){t.data(this,"plugin_wmS3Menu")||t.data(this,"plugin_wmS3Menu",new h(this,e))})):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each((function(){var n=t.data(this,"plugin_wmS3Menu");n instanceof h&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(s,1))),"destroy"===e&&t.data(this,"plugin_wmS3Menu",null)})),i!==n?i:this):void 0}),t((function(){var e=t(".wm-widget-menu.horizontal");e.wmS3Menu(),r.on("resize.wmS3Menu",(function(){e.wmS3Menu("update")}))})),setTimeout((function(){r.trigger("resize")}),500)}(jQuery,window,document),$((function(){function t(t){if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)>960)t.find(".block-body-drop").css({"margin-left":"0px"});else{var e=-1*t.offset().left;t.find(".block-body-drop").css({"margin-left":e+"px"})}}$(document).click((function(t){$(".contacts-block").each((function(){$(t.target).closest($(this)).length||($(this).find(".tgl-but").prop("checked",!1),$(this).find(".icon").removeClass("active"))}))})),$(".contacts-block").each((function(){for(var e=$(this),i=".side-panel ."+e.attr("class").split(" ")[0]+" .block-body-drop",n=document.styleSheets,s=0;s<n.length;s++)if(n[s].href&&-1!==n[s].href.indexOf("styles.css")){for(var o=0;o<n[s].cssRules.length;o++)if(n[s].cssRules[o].selectorText==i&&"100vw"==n[s].cssRules[o].style.width){e.data("fullwidth",1),t(e);break}break}})),$(window).resize((function(){$(".contacts-block").each((function(){var e=$(this);1==e.data("fullwidth")&&t(e)}))})),$(".contacts-block").each((function(){var e=$(this);e.find(".icon").click((function(){1==e.data("fullwidth")&&t(e),e.find(".tgl-but").prop("checked")?$(this).removeClass("active"):$(this).addClass("active")}))}))})),$((function(){function t(t){if(Math.max(document.documentElement.clientWidth,window.innerWidth||0)>960)t.find(".block-body-drop").css({"margin-left":"0px"});else{var e=-1*t.offset().left;t.find(".block-body-drop").css({"margin-left":e+"px"})}}$(document).click((function(t){$(".contacts-block").each((function(){$(t.target).closest($(this)).length||($(this).find(".tgl-but").prop("checked",!1),$(this).find(".icon").removeClass("active"))}))})),$(".contacts-block").each((function(){for(var e=$(this),i=e.attr("class").split(" ")[0],n="/"==document.location.pathname?".title-page .side-panel ."+i+" .block-body-drop":".side-panel ."+i+" .block-body-drop",s=document.styleSheets,o=0;o<s.length;o++)if(s[o].href&&-1!==s[o].href.indexOf("styles.css")){for(var a=0;a<s[o].cssRules.length;a++)if(s[o].cssRules[a].selectorText==n&&"100vw"==s[o].cssRules[a].style.width){e.data("fullwidth",1),t(e);break}break}})),$(window).resize((function(){$(".contacts-block").each((function(){var e=$(this);1==e.data("fullwidth")&&t(e)}))})),$(".contacts-block").each((function(){var e=$(this);e.find(".icon").click((function(){1==e.data("fullwidth")&&t(e),e.find(".tgl-but").prop("checked")?$(this).removeClass("active"):$(this).addClass("active")}))}))})),function(t,e){t.photoSwipeSettings||(t.photoSwipeSettings={});var i=t.photoSwipeSettings;t.initPhotoSwipeFunc||(t.initPhotoSwipeFunc=function(n){n.preloadImages||(n.preloadImages=!1);var s=Object.keys(i);s.length?s.forEach((function(t){"hashData"!==t&&i[t].push(n[t])})):Object.keys(n).forEach((function(t){i[t]=[],i[t].push(n[t])}));var o=0;i.gallery.forEach((function(t){t===n.gallery&&o++;var e=i.gallery.indexOf(n.gallery);o>1&&(s.forEach((function(t){"hashData"!==t&&i[t].splice(e,1)})),o=0)})),i.hashData||(i.hashData=function(){var t=location.hash.substring(1),e={};if(t.length<5)return e;for(var i,n=t.split("&"),s=n.length,o=0;o<s;o++)n[o]&&((i=n[o].split("=")).length<2||(e[i[0]]=i[1]));return e.gid&&(e.gid=parseInt(e.gid,10)),e}());var a=i.hashData;Object.keys(a).length&&(n.preloadImages=!0);for(var r,l=e.querySelectorAll(i.gallery.join(",")),c=l.length,d='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>',h="",u="",p="",f=0;f<c;f++)"1"===(r=l[f]).getAttribute("data-popup-share")&&(h='<button class="pswp__button pswp__button--share" title="Share"></button>'),"1"===r.getAttribute("data-popup-fullscreen")&&(u='<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>'),"1"===r.getAttribute("data-popup-zoom")&&(p='<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>'),r.setAttribute("data-pswp-uid",f+1),r.dataGID=f+1,n.preloadImages?v(r):(g(r),a.pid&&a.gid&&a.gid===r.dataGID&&b(a.pid,l[a.gid-1],!0,!0));if(0===e.querySelectorAll(".pswp").length){d=d+h+u+p+'<div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>';var m=e.createElement("div");m.innerHTML=d,e.body.appendChild(m)}function v(t){for(var e=t.querySelectorAll(n.item+" img"),i=e.length,s=[],o=0;o<i;o++)r(e[o]);function r(e){var n=new Image,o=y(e,(function(t){return t.tagName&&"A"===t.tagName}));if(o&&(n.src=o.getAttribute("href")),!o)return!1;n.addEventListener("load",(function(){o.setAttribute("data-size",n.naturalWidth+"x"+n.naturalHeight),n=null,s.push("loaded"),s.length===i&&(g(t),a.pid&&a.gid&&a.gid===t.dataGID&&b(a.pid,l[a.gid-1],!0,!0))}))}}function g(t){for(var e,i,s,o,a,r,l,c=t.querySelectorAll(n.item),d=c.length,h=[],u=0;u<d;u++)(e=c[u]).dataPSIndex=u,e.addEventListener("click",w),s=e.querySelector("img"),o=(i=e.querySelector("a[data-size]")).getAttribute("data-title"),a=e.querySelector(n.itemDesc),r=i.getAttribute("data-size").split("x"),l={src:i.getAttribute("href"),w:parseInt(r[0],10),h:parseInt(r[1],10)},o&&(l.title=o),a&&a.innerHTML&&(l.title+="<br /><small>"+a.innerHTML+"</small>"),i.children.length>0&&(l.msrc=s.getAttribute("src")),l.el=e,h.push(l);return h}function w(e){(e=e||t.event).preventDefault?e.preventDefault():e.returnValue=!1;var i=y(e.target||e.srcElement,(function(t){return"dataPSIndex"in t})),n=y(i,(function(t){return t.getAttribute("data-pswp-uid")}));return b(i.dataPSIndex,n),!1}function y(t,e){return t&&(e(t)?t:y(t.parentNode,e))}function b(i,n,s,o){var a=e.querySelectorAll(".pswp")[0];if(!n)return!1;var r=g(n),l={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(i){var n=r[i].el.getElementsByTagName("img")[0],s=t.pageYOffset||e.documentElement.scrollTop,o=n.getBoundingClientRect();return{x:o.left,y:o.top+s,w:o.width}}};if(o)if(l.galleryPIDs){for(var c=0;c<r.length;c++)if(r[c].pid===i){l.index=c;break}}else l.index=parseInt(i,10)-1;else l.index=parseInt(i,10);if(!isNaN(l.index)){s&&(l.showAnimationDuration=0,l.hideAnimationDuration=0);var d=new PhotoSwipe(a,PhotoSwipeUI_Default,r,l);d.init(),d.listen("close",(function(){setTimeout((function(){a.classList.remove("pswp--open")}),500)}))}}})}(window,document),$((function(){var t=$(window),e=function(t,e){var i;return function(){var n=[].slice.call(arguments,0);window.clearTimeout(i),i=window.setTimeout((function(){window.requestAnimationFrame&&window.requestAnimationFrame((function(){t.apply(null,n)}))||t.apply(null,n)}),e)}},i=function(t,e,i){var n,s;return e||(e=250),function(){var o=i||this,a=+new Date,r=arguments;n&&a<n+e?(clearTimeout(s),s=setTimeout((function(){n=a,t.apply(o,r)}),e)):(n=a,t.apply(o,r))}},n={gallery:".blocklist .body",item:".image",itemDesc:".text",preloadImages:!0};$(".blocklist").each((function(){var s,o,a,r,l,c,d,h,u,p=$(this),f=p.find(".item-outer"),m=p.find(".list"),v=p.find(".body"),g=p.find(".controls"),w=p.find(".bx-pager-wrap"),y={},b=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),_=p.attr("data-slider").split(","),C=p.attr("data-swipe").split(","),k=p.attr("data-setting-vertical_aligner");function S(){var t=[],e=0,i=0;if(u="flex"==f.find(".item").css("display"),f.each((function(n){$(this).find(k).css("min-height",""),$(this).find(k).css("margin-top","");var s=$(this),o=s.find(".item"),a=x(o);if(o.data("originalHeight",a),i!=s.position().top){if(t.length>1)for(var r=0;r<t.length;r++)T(t[r],e);t=[],i=s.position().top,e=a,t.push(o)}else t.push(o),e=e<a?a:e})),t.length>1)for(var n=0;n<t.length;n++)T(t[n],e)}function T(t,e){var i=t.find(k);if(i.length){var n=i.prev(),s=e-(null==t.data("originalHeight")?x(t):t.data("originalHeight"));if(0!=s){var o=parseInt(document.defaultView.getComputedStyle(i[0],"").marginTop),a=!u&&n.length?parseInt(document.defaultView.getComputedStyle(n[0],"").marginBottom):0,r=o>a?o:a;i.css("margin-top",s+r)}}}function x(t){var e=0;return t.children().each((function(){e+=$(this).outerHeight()})),e}if(k&&"none"!==k&&(setTimeout((function(){S()}),0),t.on("resize",e(S,300))),_.indexOf("1")>-1&&$.fn.bxSlider){function M(t){var e,i,n,u=$("body").width(),b=p.attr("data-slider").split(",");u>=961?h="screen":u<=960&&u>=769?h="tablet_landscape":u<=768&&u>=641?h="tablet_portrait":u<=640&&u>=481?h="mobile_landscape":u<=480&&(h="mobile_portrait");var _,k,S=["screen","tablet_landscape","tablet_portrait","mobile_landscape","mobile_portrait"].indexOf(h),T=p.width();if(p.is(":visible")){if("force"===t||!d||d!==T){if(d=T,l&&l.destroySlider(),s=parseInt(p.attr("data-setting-count").split(",")[S],10),i="space-between"===v.css("justify-content"),g.css("pointer-events","none"),g.find(".prev").css("pointer-events","auto"),g.find(".next").css("pointer-events","auto"),m.width("auto"),f.attr("style","").slice(1).addClass("hidden").end().width(y.slideWidth=f.width()).removeClass("hidden"),a.length>1&&(y.pager=!!parseInt(a[S])),r.length>1&&(y.controls=!!parseInt(r[S])),c.length>1&&(y.autoControls=!!parseInt(c[S])),$(y.pagerSelector).css({display:1==y.pager?"flex":"none"}),p.find(".controls").css({display:1==y.controls?"flex":"none"}),"vertical"===y.mode?(_=Math.max.apply(Math,f.map((function(){return $(this).height()})).get()),f.css("min-height",_),k=_*s,y.maxSlides=y.minSlides=s):((e="auto"!=o[S]&&parseInt(o[S]))&&(s=e),y.maxSlides=Math.min(s,Math.ceil(f.parent().width()/f.width()))),i&&(n=y.maxSlides>1?(n=Math.floor((v.width()-f.width()*y.maxSlides)/(y.maxSlides-1)))<0?0:n:0,y.slideMargin=n),f.length>y.maxSlides&&1==b[S]?(m.css({"justify-content":"flex-start"}),l?l.reloadSlider(y):m.data("bxslider",l=m.bxSlider(y)),y.pager&&w.css("display","flex")):(1!=C[S]?(m.css({"justify-content":i?"space-between":"inherit","flex-wrap":"wrap"}),m.width()/s<f.width()?f.css("width",f.width()-1):f.css("width",f.width())):m.css({"flex-wrap":"nowrap"}),w.hide(),g.hide()),k&&1==b[S]&&m.parent().css("min-height",k),"horizontal"===y.mode){var x={};switch(v.css("justify-content")){case"flex-end":x["margin-left"]="auto",x["margin-right"]="0px";break;case"center":x["margin-left"]="auto",x["margin-right"]="auto";break;default:x["margin-left"]="0px",x["margin-right"]="auto"}p.find(".bx-wrapper").css(x)}p.wm_img_convert()}}else l&&l.destroySlider()}y.pagerSelector=p.attr("data-setting-pager_selector"),y.prevSelector=p.attr("data-setting-prev_selector"),y.nextSelector=p.attr("data-setting-next_selector"),y.prevText=p.attr("data-setting-prev_text")||"",y.nextText=p.attr("data-setting-next_text")||"",y.auto=!!parseInt(p.attr("data-setting-auto")),y.controls=!!parseInt(p.attr("data-setting-controls")),y.pager=!!parseInt(p.attr("data-setting-pager").split(",")[0]),y.pause=parseInt(p.attr("data-setting-pause"),10)||4e3,y.useCSS=b,y.infiniteLoop=!0,y.adaptiveHeight=!1,y.mode=p.attr("data-setting-mode")||"horizontal",y.touchEnabled="horizontal"===y.mode,y.slideMargin=0,y.maxSlides=parseInt(p.attr("data-setting-count").split(",")[0],10)||1,y.minSlides="horizontal"===y.mode?1:y.maxSlides,y.moveSlides=p.attr("data-setting-move")||0,y.autoControlsSelector=p.attr("data-setting-auto_controls_selector"),y.autoControls=!!parseInt(p.attr("data-setting-auto_controls").split(",")[0]),y.autoControlsCombine=!!parseInt(p.attr("data-setting-autoControlsCombine")),y.autoHover=!0,o=p.attr("data-setting-columns").split(","),a=p.attr("data-setting-pager").split(","),r=p.attr("data-setting-controls").split(","),c=p.attr("data-setting-auto_controls").split(","),!y.autoControls&&y.auto&&(y.onSlideAfter=function(){l.startAuto()}),f.removeClass("hidden"),m.parent().hasClass("bx-viewport")&&(m.unwrap(),m.unwrap()),t.on("resize",e(M,300)),t.on("load",(function(){M("force"),t.trigger("resize")})),M()}else w.hide(),g.hide();function A(){var t=p.find(".swipe-shadow-left"),e=p.find(".swipe-shadow-right");if("auto"==m.css("overflow-x")){var n=m.get(0).scrollWidth,s=m.width();function o(){var i=m.scrollLeft();i>0?t.show():t.hide(),i+s>=n-1?e.hide():e.show()}t.css("pointer-events","none"),e.css("pointer-events","none"),m.off("scroll"),m.on("scroll",i(o,200)),o()}else t.hide(),e.hide()}t.on("resize",e(A,300)),A(),1==p.attr("data_photo_swipe")&&(initPhotoSwipeFunc(n),t.on("resize",(function(){initPhotoSwipeFunc(n)}))),$(document).on("click",".shop2-product-btn2",(function(t){var e,i,n=$(this),s=n.closest("form"),o=s.get(0),a=s.find(".additional-cart-params"),r=a.length,l=o.amount.value,c=o.kind_id.value;if(t.preventDefault(),r)for(l={amount:l},e=0;e<r;e+=1)(i=a[e]).value&&(l[i.name]=i.value);shop2.cart.add(c,l,(function(t){$("#shop2-cart-preview").replaceWith(t.data),t.errstr?shop2.msg(t.errstr,n):shop2.msg("Добавлено в корзину",n),t.panel&&$("#shop2-panel").replaceWith(t.panel)}))}))}));var s=document.querySelectorAll(".blocklist .body-outer");s3ContentColumns(s,{body:".list",items:".item-outer"})})),function(t,e,i){var n=["ms","moz","webkit","o"],s=e.documentElement,o=t.innerWidth||s.clientWidth||e.body.clientWidth,a="classList"in s,r={body:!1,items:"random",columns:"0,0,0,0,0",onBeforeInit:function(){},onAfterInit:function(){}},l={sHasClass:function(t){var e=this;return a?e.classList.contains(t):e.className&&new RegExp("\\b"+t+"\\b").test(e.className)},sAddClass:function(t){var e,i=this,n=t.split(/\s/g),s=n.length;if(a)for(e=0;e<s;e++)i.classList.add(n[e]);else for(e=0;e<s;e++)i.sHasClass(n[e])||(i.className+=" "+n[e]);return i},sRemoveClass:function(t){var e,i,n=this,s=t.split(/\s/g),o=s.length;if(a)for(e=0;e<o;e++)n.classList.remove(s[e]);else for(e=0;e<o;e++)i=new RegExp("\\b"+s[e]+"\\b","g"),n.className=n.className.replace(i," ").replace(/^\s\s*|\s\s*$/,"");return n},sCSS:function(t,e){var s=this,o=new RegExp("perspective|transform|box-sizing|user-select","g");function a(t){if(t.match(o)&&!(t in s.style))for(var e=0;e<4;e++)if("-"+n[e]+"-"+t in s.style){t="-"+n[e]+"-"+t;break}return t}if("string"==typeof t&&e!==i)s.style[a(t)]=e;else{if("string"==typeof t&&e===i)return getComputedStyle(s)[t];if("object"==typeof t)for(var r in t)t.hasOwnProperty(r)&&(s.style[a(r)]=t[r])}return s},sDataset:function(){var t=this,e={};function i(t){var e=parseInt(t);return"false"!==t&&("true"===t||(/\D/.test(t)||"number"!=typeof e||NaN===e?t:e))}if(t.dataset)for(var n in t.dataset)t.dataset.hasOwnProperty(n)&&(e[n]=i(t.dataset[n]));else for(var s=t.attributes,o=s.length,a=0;a<o;a++){if(!1!==/data-/.test(s[a].name))e[s[a].name.replace(/data-|-\w/gi,(function(t){return"data-"===t?"":t.replace("-","").toUpperCase()}))]=i(s[a].value)}return e},sClosest:function(t){var e=this,i=e.parentNode;return e&&(t(e)?e:"sClosest"in i?i.sClosest(t):i)}};for(var c in l)l.hasOwnProperty(c)&&!Element.prototype[c]&&Object.defineProperty(Element.prototype,c,{enumerable:!1,value:l[c]});var d=function(t){return t&&"string"==typeof t&&/[.\-]\b/g.test(t)?e.querySelector(t):!(!t||"object"!=typeof t||!t.tagName)&&t},h=function(t){t=t||{};for(var e=1,i=arguments.length;e<i;e++)if(arguments[e])for(var n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t},u=function(){var e="screen",i=0;return t.matchMedia("all and (max-width: 480px)").matches?(e="mobile_portrait",i=4):t.matchMedia("all and (max-width: 640px)").matches?(e="mobile_landscape",i=3):t.matchMedia("all and (max-width: 768px)").matches?(e="tablet_portrait",i=2):t.matchMedia("all and (max-width: 960px)").matches&&(e="tablet_landscape",i=1),[i,e]},p=function(t){var e,i,n,s,o=[],a=[];for("string"==typeof t&&(o=t.split(",")),e=o.length,i=0;i<e;i++)a.push((n=o[i],s=void 0,s=parseInt(n),"false"!==n&&("true"===n||(/\D/.test(n)||"number"!=typeof s||NaN===s?n:s))));return a},f=function(t){var n,s=t.dataColumns;s.options.onBeforeInit(t,s);var o=s.columnsArr[s.media[0]],a=t.querySelector(".columns-table");if(a){var r=s.items[0].sClosest((function(t){return t.sHasClass("columns-table")}));if(r&&r.sHasClass("columns-table"))for(n=0;n<s.itemsAmount;n++)s.body.appendChild(s.items[n]);o?a.innerHTML="":s.body.removeChild(a)}else o&&(a=e.createElement("div").sAddClass("columns-table"),s.body.appendChild(a));if(o){var l="";for(s.itemsAmount<o&&(o=s.itemsAmount),n=0;n<o;n++)l+='<div class="columns-cell"></div>';a.innerHTML=l;var c=t.querySelectorAll(".columns-cell");if(1===o)for(n=0;n<s.itemsAmount;n++)c[0].appendChild(s.items[n]);else{var d=c[0].clientWidth||parseFloat(c[0].sCSS("width"));s.body.sCSS("width",d+"px");for(var h,u,p,f,m,v,g=s.body.offsetHeight,w=Math.ceil(g/o),y=0,b=0,_=0;_<s.itemsAmount;_++){if((p=s.items[_])!==i&&!p.sHasClass("columns-table"))if(f=p.offsetHeight,v=0,(m=s.items[_+1])&&(v=m.offsetHeight),b>=o&&(b=o-1),c[b].appendChild(p),y+=f,g-=f)u=g/(h=o-(b+1)),(s.itemsAmount-(_+1)<=h||v>=u||u-y<=v/2||w>=u&&y>=u)&&(y=0,b++)}s.body.sCSS("width","")}}s.options.onAfterInit(t,s)},m={init:function(n,a){var l=d(n);if(!l)return!1;var c,m,v,g=l.dataColumns;if(l&&"string"==typeof a){if(g&&"inited"===g.status)return!1;g&&g.options&&(a=h({},g.options))}if(l&&"string"!=typeof a){var w=h({},r,a,l.sDataset());if(c=l.querySelector(w.body)||l,(m=l.querySelectorAll(w.items))&&!m.length){m=[];var y,b,_=c.childNodes,C=_.length,k=[];for(b=0;b<C;b++)!_[b].tagName&&_[b].nodeValue&&/[\wа-яё]+/gi.test(_[b].nodeValue)&&((y=e.createElement("span")).innerHTML=_[b].nodeValue.replace(/^\s+|\s+$/g,""),k.push([_[b],y]));for(C=k.length,b=0;b<C;b++)c.insertBefore(k[b][1],k[b][0].nextSibling),k[b][0].nodeValue="";for(C=c.children.length,b=0;b<C;b++)m.push(c.children[b])}v=m.length,g=l.dataColumns={options:w,status:"inited",media:u(),body:c,items:m,itemsAmount:v,columnsArr:p(w.columns),handlers:{resizeWindow:function(){if((t.innerWidth||s.clientWidth||e.body.clientWidth)!==o){var i=u();i[1]!==g.media[1]&&(g.media=i,f(l))}}}};var S=l.querySelectorAll("img"),T=S.length,x=!1;if(T){for(var M,$,A=0,E=0;E<T;E++){if(M=S[E],/image\/svg\+xml|\.svg$/g.test(M.getAttribute("src"))){x=!0;break}(M.complete||M.complete===i)&&($=M.src+"?imgsrc="+(new Date).getTime(),M.src=$),M.addEventListener("load",(function(){++A===T&&I()}))}x&&I()}else I()}function I(){m&&v&&(f(l),t.addEventListener("resize",g.handlers.resizeWindow))}return l}};t.s3ContentColumns||(t.s3ContentColumns=function(t,e){if(!t)return!1;if(m[e])return m[e].apply(this,arguments);if("object"!=typeof e&&e)return console.error("Метод "+e+" не найден в плагине s3ContentColumns");if(d(t))return m.init.apply(this,arguments);if(t.length)for(var i=t.length,n=0;n<i;n++)m.init(t[n],e)})}(window,document),document.addEventListener("DOMContentLoaded",(function(){var t,e,i,n,s,o,a,r,l,c,d,h,u,p,f,m,v=(i=document.body.style.getPropertyValue("overflow"),n=document.body.style.getPropertyPriority("overflow"),document.body.style.setProperty("overflow","hidden","important"),t=document.body.clientWidth,document.body.style.setProperty("overflow","scroll","important"),e=document.body.clientWidth,document.body.style.setProperty("overflow",i||"",n),t-e),g={"tablet-landscape":960,"tablet-portrait":768,"mobile-landscape":640,"mobile-portrait":480},w=document.querySelector(".side-panel"),y={},b={};if(w&&!w.classList.contains("removed")){f="right"===w.getAttribute("data-position");try{""!==(u=w.getAttribute("data-layers"))&&(u=JSON.parse(u.replace(/\[/g,"{").replace(/\]/g,"}").replace(/\'/g,'"')))}catch(t){console.error(t)}if("object"==typeof u&&0!==Object.keys(u).length)Object.keys(u).forEach((function(t){y[t]=document.querySelector("."+t),b[t]=document.createComment(t),y[t]?y[t].parentNode.insertBefore(b[t],y[t]):delete u[t]})),l=w.querySelector(".side-panel-button"),c=w.querySelector(".side-panel-close"),s=w.querySelector(".side-panel-content"),o=w.querySelector(".side-panel-content-inner")||s,r=w.querySelector(".side-panel-mask"),a=w.querySelector(".side-panel-top-inner"),w.classList.remove("hidden"),l.classList.remove("hidden"),l.style.display="none",s.classList.remove("hidden"),s.style.display="none",r.classList.remove("hidden"),r.style.display="none",p=getComputedStyle(s,null).width,0,h=parseInt(p)+50,"auto"===p&&(h=Math.max(document.documentElement.clientWidth,window.innerWidth||0),m=!0),!!parseInt($(w).attr("data-phantom"))?$(w).css({"pointer-events":"none"}):$(w).css({"pointer-events":"auto"}),f&&(s.style.left="auto",s.style.right="0"),m&&(s.style.left="0",s.style.right="0"),window.side_panel_controller=d=new DrawerController({target:w,full_width:m,left:0,right:h,position:0,flip:f,curve:"ease-in-out",willOpen:function(){r.style.display="block",s.style.display="block",document.body.classList.add("noscroll"),v&&document.documentElement.scrollHeight>document.documentElement.clientHeight&&(document.body.style.borderRight=v+"px solid transparent")},didClose:function(){r.style.display="none",s.style.display="none",document.body.classList.remove("noscroll"),v&&document.documentElement.scrollHeight>document.documentElement.clientHeight&&(document.body.style.borderRight="")},onAnimate:function(t){r.style.opacity=t/h,s.style.transform="translate3d("+(f?h-t:t-h)+"px,0,0)"}}),d.inPanel=function(t){var e,i;return"string"==typeof t&&("."===t.charAt(0)&&(t=t.slice(1)),e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),Object.keys(g).forEach((function(t){e<=g[t]&&(i=t)})),void 0===i&&(i="screen"),u[t]&&u[t][i])},l.addEventListener("click",(function(t){return t.preventDefault(),d.toggle(),!1})),c&&c.addEventListener("click",(function(t){return t.preventDefault(),d.close(),!1})),r.addEventListener("click",(function(){return d.close(),!1})),document.addEventListener("keyup",(function(t){if(27===t.keyCode)return d.close(),!1})),(_=function(t,e){var i;return window.requestAnimationFrame?function(){i&&cancelAnimationFrame(i),i=requestAnimationFrame(t)}:function(){window.clearTimeout(i),i=window.setTimeout((function(){t()}),e)}}(_,40))(),window.addEventListener("resize",_)}function _(){var t,e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=!0,n=!0;_.viewportWidth!==e&&(_.viewportWidth=e,Object.keys(g).forEach((function(i){e<=g[i]&&(t=i)})),void 0===t&&(t="screen"),Object.keys(u).forEach((function(e){var s,r;s=y[e],r=b[e],t in u[e]?"onTop"===u[e][t]?(a.appendChild(s),n=!1):(o.appendChild(s),i=!1):r&&r.parentNode.insertBefore(s,r)})),l.style.display=i?"none":"block",n&&i?(w.style.display="none",d.close()):w.style.display="block")}})),function(t){function e(t){this.delegate=t,this.startTimeStamp=0,this.request_=null}function i(){this.recentTouchMoves_=[],this.velocityX=0,this.velocityY=0}function n(){}function s(t){this.map=[];for(var e=0;e<=100;e+=1){var i=e/100;this.map.push([3*i*(1-i)*(1-i)*t[0]+3*i*i*(1-i)*t[2]+i*i*i,3*i*(1-i)*(1-i)*t[1]+3*i*i*(1-i)*t[3]+i*i*i])}}e.prototype.scheduleAnimation=function(){this.request_||(this.request_=requestAnimationFrame(this.onAnimation_.bind(this)))},e.prototype.startAnimation=function(){this.startTimeStamp=0,this.scheduleAnimation()},e.prototype.stopAnimation=function(){cancelAnimationFrame(this.request_),this.startTimeStamp=0,this.request_=null},e.prototype.onAnimation_=function(t){this.request_=null,this.startTimeStamp||(this.startTimeStamp=t),this.delegate.onAnimation(t)&&this.scheduleAnimation()},i.kTimeWindow=50,i.prototype.pruneHistory_=function(t){for(var e=0;e<this.recentTouchMoves_.length;++e)if(this.recentTouchMoves_[e].timeStamp>t-i.kTimeWindow)return void(this.recentTouchMoves_=this.recentTouchMoves_.slice(e));this.recentTouchMoves_=[]},i.prototype.update_=function(t){this.pruneHistory_(t.timeStamp),this.recentTouchMoves_.push(t);var e=this.recentTouchMoves_[0],i=t.changedTouches[0].clientX-e.changedTouches[0].clientX,n=t.changedTouches[0].clientY-e.changedTouches[0].clientY,s=t.timeStamp-e.timeStamp;s>0?(this.velocityX=i/s,this.velocityY=n/s):(this.velocityX=0,this.velocityY=0)},i.prototype.onTouchStart=function(t){this.recentTouchMoves_.push(t),this.velocityX=0,this.velocityY=0},i.prototype.onTouchMove=function(t){this.update_(t)},i.prototype.onTouchEnd=function(t){this.update_(t),this.recentTouchMoves_=[]},n.prototype.scaleTime=function(t){return t},s.prototype.scaleTime=function(t){for(var e=0;100!==e&&t>this.map[e][0];)e+=1;if(t===this.map[e][0]||0===e)return this.map[e][1];var i=this.map[e][1]-this.map[e-1][1],n=this.map[e][0]-this.map[e-1][0],s=(t-this.map[e-1][0])/n;return this.map[e-1][1]+s*i};var o={linear:new n,ease:new s([.25,.1,.25,1]),"ease-in":new s([.42,0,1,1]),"ease-out":new s([0,0,.58,1]),"ease-in-out":new s([.42,0,.58,1])};function a(t){this.velocityTracker=new i,this.animator=new e(this),this.target=t.target,this.left=t.left,this.right=t.right,this.position=t.position,this.flip=t.flip,this.full_width=t.full_width,this.width=this.right-this.left,this.curve=o[t.curve||"linear"],this.willOpenCallback=t.willOpen,this.didCloseCallback=t.didClose,this.animateCallback=t.onAnimate,this.state=a.kClosed,this.defaultAnimationSpeed=(this.right-this.left)/a.kBaseSettleDurationMS,this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.full_width||this.target.addEventListener("touchstart",this.onTouchStart.bind(this))}a.kOpened="opened",a.kClosed="closed",a.kOpening="opening",a.kClosing="closing",a.kDragging="dragging",a.kFlinging="flinging",a.kBaseSettleDurationMS=246,a.kMaxSettleDurationMS=600,a.kMinFlingVelocity=.4,a.kTouchSlop=5,a.kTouchSlopSquare=a.kTouchSlop*a.kTouchSlop,a.prototype.restrictToCurrent=function(t){return Math.max(this.left,Math.min(this.position,t))},a.prototype.restrictToBounds=function(t){return Math.max(this.left,Math.min(this.right,t))},a.prototype.onTouchStart=function(t){var e;this.velocityTracker.onTouchStart(t),e=this.flip?document.documentElement.clientWidth-t.changedTouches[0].clientX:t.changedTouches[0].clientX;var i=t.changedTouches[0].clientY;if(this.state!=a.kOpened){if(e!=this.restrictToCurrent(e))return;this.state=a.kDragging}this.animator.stopAnimation(),this.target.addEventListener("touchmove",this.onTouchMove),this.target.addEventListener("touchend",this.onTouchEnd),this.startX=e,this.startY=i,this.startPosition=this.position,this.touchBaseX=Math.min(e,this.startPosition)},a.prototype.onTouchMove=function(t){if(this.velocityTracker.onTouchMove(t),this.state==a.kOpened){var e;e=this.flip?document.documentElement.clientWidth-t.changedTouches[0].clientX-this.startX:t.changedTouches[0].clientX-this.startX;var i=t.changedTouches[0].clientY-this.startY;if(e*e+i*i<a.kTouchSlopSquare)return void t.preventDefault();if(Math.abs(i)>Math.abs(e))return this.target.removeEventListener("touchmove",this.onTouchMove),void this.target.removeEventListener("touchend",this.onTouchEnd);this.state=a.kDragging}var n;t.preventDefault(),n=this.flip?document.documentElement.clientWidth-t.changedTouches[0].clientX-this.touchBaseX:t.changedTouches[0].clientX-this.touchBaseX,this.position=this.restrictToBounds(this.startPosition+n),this.animator.scheduleAnimation()},a.prototype.onTouchEnd=function(t){this.velocityTracker.onTouchEnd(t),this.target.removeEventListener("touchmove",this.onTouchMove),this.target.removeEventListener("touchend",this.onTouchEnd);var e=this.velocityTracker.velocityX;this.flip&&(e*=-1),Math.abs(e)>a.kMinFlingVelocity?this.fling(e):this.isOpen()?this.open():this.close()},a.prototype.openFraction=function(){var t=this.right-this.left;return(this.position-this.left)/t},a.prototype.isOpen=function(){return this.openFraction()>=.5},a.prototype.isOpening=function(){return this.state==a.kOpening||this.state==a.kFlinging&&this.animationVelocityX>0},a.prototype.isClosing=function(){return this.state==a.kClosing||this.state==a.kFlinging&&this.animationVelocityX<0},a.prototype.toggle=function(){this.isOpen()?this.close():this.open()},a.prototype.open=function(){this.full_width?this.willOpenCallback.call(this.target):(this.position||this.willOpenCallback.call(this.target),this.animator.stopAnimation(),this.animationDuration=400,this.state=a.kOpening,this.animate())},a.prototype.close=function(){this.full_width?this.didCloseCallback.call(this.target):(this.animator.stopAnimation(),this.animationDuration=400,this.state=a.kClosing,this.animate())},a.prototype.fling=function(t){this.animator.stopAnimation(),this.animationVelocityX=t,this.state=a.kFlinging,this.animate()},a.prototype.animate=function(){this.positionAnimationBase=this.position,this.animator.startAnimation()},a.prototype.targetPosition=function(t){if(this.state==a.kFlinging)return this.positionAnimationBase+this.animationVelocityX*t;var e=this.curve.scaleTime(t/this.animationDuration),i=this.state==a.kOpening?this.width-this.positionAnimationBase:-this.positionAnimationBase;return this.positionAnimationBase+e*i},a.prototype.onAnimation=function(t){if(this.state==a.kDragging)return this.animateCallback.call(this.target,this.position),!1;var e=t-this.animator.startTimeStamp,i=this.targetPosition(e);return this.position=this.restrictToBounds(i),this.animateCallback.call(this.target,this.position),i<=this.left&&this.isClosing()?(this.state=a.kClosed,this.didCloseCallback.call(this.target),!1):!(i>=this.right&&this.isOpening())||(this.state=a.kOpened,!1)},t.DrawerController=a}(window);